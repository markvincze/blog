<!DOCTYPE html>
<html lang="en">

<head>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-72523215-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-72523215-1');
  </script>

  <title>Build and publish documentation and API reference with DocFx for .NET Core projects</title>

  <link rel="stylesheet" href="/styles/styles.css">
  
  <script src="https://kit.fontawesome.com/9b3bcefedf.js" crossorigin="anonymous"></script>
  <script defer src="/scripts/scripts.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="This guide shows how to generate and publish API documentation for a .NET Core library, using DocFx, GitHub Pages and AppVeyor." />

  <meta property="og:url" content="https://blog.markvincze.com/build-and-publish-documentation-and-api-reference-with-docfx-for-net-core-projects/" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Build and publish documentation and API reference with DocFx for .NET Core projects" />
  <meta property="og:description" content="This guide shows how to generate and publish API documentation for a .NET Core library, using DocFx, GitHub Pages and AppVeyor." />
  <meta property="og:site_name" content="Mark Vincze" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mrkvincze" />
  <meta name="twitter:title" content="Build and publish documentation and API reference with DocFx for .NET Core projects" />
  <meta name="twitter:description" content="This guide shows how to generate and publish API documentation for a .NET Core library, using DocFx, GitHub Pages and AppVeyor." />
  

</head>

<body>
  <div class="navbar-container">
    <nav class="navbar container is-max-desktop" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
      <div id="navbarMenu" class="navbar-menu has-text-white-ter">

        <div class="navbar-start">
          
          <a class="navbar-item" href="/">About</a>
          
          <a class="navbar-item" href="/posts">Blog</a>
          
          <a class="navbar-item" href="/projects">Projects</a>
          
          <a class="navbar-item" href="/cv.html">Resume</a>
          
        </div>

        <div class="navbar-end pt-2 ml-2">
          <a class="icon is-medium" href="mailto:hello@markvincze.com" target="_blank">
            <i class="fa fa-lg fa-envelope"></i>
          </a>
          <a class="icon is-medium" href="https://bsky.app/profile/markvincze.com" target="_blank">
            <i class="fab fa-lg fa-bluesky"></i>
          </a>
          <a class="icon is-medium" href="https://twitter.com/mrkvincze" target="_blank">
            <i class="fab fa-lg fa-twitter"></i>
          </a>
          <a class="icon is-medium" href="https://www.github.com/markvincze" target="_blank">
            <i class="fab fa-lg fa-github"></i>
          </a>
          <a class="icon is-medium" href="https://stackoverflow.com/users/974733/mark-vincze" target="_blank">
            <i class="fab fa-lg fa-stack-overflow"></i>
          </a>
          <a class="icon is-medium" href="https://www.linkedin.com/in/markvincze" target="_blank">
            <i class="fab fa-lg fa-linkedin"></i>
          </a>
          <a class="icon is-medium" href="/index.xml" target="_blank">
            <i class="fas fa-lg fa-rss"></i>
          </a>
        </div>
      </div>
    </nav>
  </div>

  <div class="hero-body">
    <div class="container has-text-centered">
      <a href="/">
        <h1 class="title is-2">
          Mark Vincze
        </h1>
      </a>
      <h2 class="subtitle is-5">
        Software Developer
      </h2>
    </div>
  </div>

  

<section class="section">
  <div class="container is-max-desktop">
    <h1 class="title is-1">Build and publish documentation and API reference with DocFx for .NET Core projects</h1>

    
      


<p class="mb-3 is-vcentered">
  <time class="has-text-grey" datetime="2017-11-17">Nov 17, 2017 &bull;</time>

  
  
  <a class="button is-link is-light is-primary is-small p-2 mr-1 is-uppercase has-text-weight-semibold" style="height: 2em; margin-top: 0.1em" href="https://blog.markvincze.com/tags/.net-core/">.net-core</a>
  
  
  <a class="button is-link is-light is-primary is-small p-2 mr-1 is-uppercase has-text-weight-semibold" style="height: 2em; margin-top: 0.1em" href="https://blog.markvincze.com/tags/appveyor/">appveyor</a>
  
  
  <a class="button is-link is-light is-primary is-small p-2 mr-1 is-uppercase has-text-weight-semibold" style="height: 2em; margin-top: 0.1em" href="https://blog.markvincze.com/tags/docfx/">docfx</a>
  

</p>
    

    <article class="content mt-6">
      <p><a href="http://dotnet.github.io/docfx/">DocFx</a> is an open source tool for generating documentation and API reference, and it has great support for .NET Core projects.</p>
<p>DocFx can be slightly intimidating first, because it has a really wide set of features, and the default scaffolded configuration contains quite a lot of files, which at first sight can look a bit complex.</p>
<p>With this post I&rsquo;d like to give a guide about what is a minimal configuration you need if you want to set up documentation for a .NET Core project with DocFx.<br>
We&rsquo;ll also take a look at how you can automatically publish the documentation. In that part I&rsquo;ll assume that the project is hosted on GitHub, so we can make the site site available using <a href="https://pages.github.com/">GitHub Pages</a>.</p>
<p>For the sake of this guide I created a dummy project called <code>DotnetCoreDocfxDemo</code>, you can find the complete source on <a href="https://github.com/markvincze/dotnetcore-docfx-demo">GitHub</a>.</p>
<h1 id="install-docfx">Install DocFX</h1>
<p>In order to scaffold a new documentation project, serve it for testing on our machine, or to build the final version of the docs, we&rsquo;ll need to have the <code>docfx</code> CLI installed.</p>
<p>The simplest way to do this is with Chocolatey, by executing the following command.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cinst docfx -y
</code></pre></div><p>(Alternatively, we can also download and extract a release from the <a href="https://github.com/dotnet/docfx/releases">Releases</a> page.)</p>
<h1 id="set-up-the-docfx-project">Set up the DocFx project</h1>
<p>In the examples I&rsquo;ll assume that our repository has the following.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">|- src/
   |- MyProject/
      |- MyProject.csproj
|- test/
   |- MyProject.UnitTests/
      |- MyProject.UnitTests.csproj
|- MySolution.sln
</code></pre></div><p>Where the <code>src</code> folder contains our main project, and the unit test projects are in the <code>test</code> folder.</p>
<p>If we want to use DocFx, we need to set up a <em>project</em>, which consists of a bunch of configuration and content files describing our documentation site. A typical place to put this project in is a <code>docs</code> folder at the root of our repository.</p>
<p>To scaffold a default DocFx project in a <code>docs</code> directory, issue the following command at the root of the repository.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">docfx init -q -o docs
</code></pre></div><p>(<code>-o</code> specifies the output folder, while <code>-q</code> enables the &ldquo;quiet&rdquo; mode, so the command generates the default setup without asking any questions. If you&rsquo;d like to revise the scaffolding options, omit the <code>-q</code> flag.)<br>
Let&rsquo;s review what this generated.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">|- api/: Configuration for the generation of the API reference.
|- articles/: Manually written pages, this is what we can use to write actual documentation.
|- images/: Image assets.
|- src/: Folder is for storing our source code projects. (I don&#39;t use this.)
|- docfx.json: The main configuration file of our documentation.
|- index.md: The content of the index page.
|- toc.yml: The main segments of our site which will be displayed in the navigation bar.
</code></pre></div><p>The root of the project contains the <code>index.md</code> and <code>toc.yml</code> files, which define the content of the main page, and the list of top-level pages.<br>
Other subfolders, like <code>articles</code> and <code>api</code> also contain the same pair of files, which define the same content for those areas of the site.</p>
<h1 id="configure-the-api-reference">Configure the API reference</h1>
<p>In order to get the API reference generation working, we have to change our working directory to point to the folder where our source projects reside. In our example this is the <code>src</code> folder at the root of our repository (on the same level with the <code>docs</code> folder).<br>
We can do this by adding the <code>cwd</code> property to the object in the <code>src</code> array. Since we only need to go one level up, we can simply set it to <code>..</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;src&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [
  {
    <span style="color:#f92672">&#34;files&#34;</span>: [
      <span style="color:#e6db74">&#34;src/**.csproj&#34;</span>
    ],
    <span style="color:#f92672">&#34;exclude&#34;</span>: [
      <span style="color:#e6db74">&#34;**/obj/**&#34;</span>,
      <span style="color:#e6db74">&#34;**/bin/**&#34;</span>,
      <span style="color:#e6db74">&#34;_site/**&#34;</span>
    ],
    <span style="color:#f92672">&#34;cwd&#34;</span>: <span style="color:#e6db74">&#34;..&#34;</span>
  }
]<span style="color:#960050;background-color:#1e0010">,</span>
</code></pre></div><p>This way we are generating the API reference for every project in the <code>src</code> folder. If we want to (for example if we only want to have the reference for a subset of our projects), we can also explicitly specify the csproj files we&rsquo;d like to process.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    <span style="color:#e6db74">&#34;files&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [
      <span style="color:#e6db74">&#34;Project1/Project1.csproj&#34;</span>,
      <span style="color:#e6db74">&#34;Project2/Project2.csproj&#34;</span>
    ]
</code></pre></div><p><strong>Important</strong>: If we are multi-targeting different .NET Framework versions in our project, we must explicitly specify one of the frameworks here, otherwise <code>docfx</code> won&rsquo;t be able to build the project.<br>
We can do this by adding <code>properties</code> to our metadata object:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;metadata&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [
   {
     <span style="color:#960050;background-color:#1e0010">...</span>
     <span style="color:#f92672">&#34;properties&#34;</span>: {
         <span style="color:#f92672">&#34;TargetFramework&#34;</span>: <span style="color:#e6db74">&#34;netstandard1.3&#34;</span>
     }
   } 
 ]<span style="color:#960050;background-color:#1e0010">,</span>
</code></pre></div><p>In the <code>api</code> folder we shouldn&rsquo;t manually edit the <code>toc.yml</code>, since the list of table of contents will be generated during the build based on the types we have in our assemblies.</p>
<p>On the other hand, we should change the content of the <code>index.md</code> file. This is the main page displayed when we navigate to the API reference, so we can change it to a welcome message, or a high-level overview about our types.<br>
If we want to add a link to a certain type, we can do it by specifying the full name of the type with html extension. Example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">[MyClass](MyProject.MyClass.html)
</code></pre></div><p><em>Note: <code>docfx</code> will display a warning for &ldquo;Invalid file link&rdquo; when generating the documentation, but the link will work properly.</em></p>
<h1 id="set-up-our-documentation-pages">Set up our documentation pages</h1>
<p>By default, an <code>articles</code> folder is generated in the DocFx project where we can add some extra documentation pages. We can do this by adding additional Markdown files to that folder, and adding them to the <code>toc.yml</code>.</p>
<p>If we want to, we can rename the sections of the site (or add additional sections). For example, I tend to rename the &ldquo;Articles&rdquo; section to &ldquo;Documentation&rdquo;, and change &ldquo;Api Documentation&rdquo; to &ldquo;Api Reference&rdquo;. If you&rsquo;d like to change these, you should rename the folders (optional), adjust <code>docfx.json</code> to include these folders in the <code>build</code>, and change the <code>toc.yml</code> accordingly.</p>
<h1 id="set-up-our-index-page">Set up our index page</h1>
<p>We can customize the main index page of our site in by editing the <code>index.md</code> file at the root of the DocFx project.</p>
<p>It&rsquo;s a good idea to add an introduction about our project, include a link pointing to the GitHub repo, and display the usual CI and NuGet badges.</p>
<h1 id="testing-the-documentation">Testing the documentation</h1>
<p>We can start locally serving the documentation site by entering the <code>docs</code> folder and issuing the following command. We can access the site by opening <code>http://localhost:8080</code> in the browser.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">docfx --serve
</code></pre></div><p><strong>Important</strong>: If we are working with .NET Core, we might have to set the <code>VSINSTALLDIR</code> and <code>VisualStudioVersion</code> environment variables, otherwise DocFx won&rsquo;t be able to build our projects. This is something I only found in various GitHub issues, and different people reported different solutions for these problems. So it might happen that this exact configuration won&rsquo;t work on your machine, in that case you have to adjust these values (for example if you have a different edition of Visual Studio installed, you&rsquo;ll have to change the path).</p>
<p>To make this convenient, I recommend creating a script called <code>serveDocs</code> at the root of the repository, which sets these variables and then calls <code>docfx --serve</code>.</p>
<p>If you use PowerShell, then <code>serveDocs.ps1</code> should look like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell">$env:VSINSTALLDIR=<span style="color:#e6db74">&#34;C:\Program Files (x86)\Microsoft Visual Studio\2017\Professional&#34;</span>
$env:VisualStudioVersion=<span style="color:#e6db74">&#34;15.0&#34;</span>

docfx docs/docfx.json --serve
</code></pre></div><p>If you use bash, then create this <code>serveDocs.sh</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>export VSINSTALLDIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;C:\Program Files (x86)\Microsoft Visual Studio\2017\Professional&#34;</span>
export VisualStudioVersion<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;15.0&#34;</span>

docfx docs/docfx.json --serve
</code></pre></div><h1 id="publish-the-documentation">Publish the documentation</h1>
<p>In this guide I&rsquo;ll show how to use <a href="https://pages.github.com/">GitHub Pages</a> to host the documentation, but you can easily adjust the release script if you use a different hosting method.
In order to host a static page on GitHub Pages, we just have to push the content in our repository to a branch called <code>gh-pages</code>, and the site will be available at the address <code>https://accountname.github.io/RepositoryName</code>.</p>
<p><em>Note: As flagged by Ben Brandt in the comments, it&rsquo;s important to keep in mind that the site published with GitHub Pages <a href="https://help.github.com/articles/what-is-github-pages/#guidelines-for-using-github-pages">is always going to be public</a>, even if it&rsquo;s hosted in a private repository.</em></p>
<h2 id="create-the-gh-pages-branch">Create the <code>gh-pages</code> branch</h2>
<p>Since the <code>gh-pages</code> will only have to contain our static HTML content and nothing else, it&rsquo;s a good idea to create an empty orphan branch. We can do this in our repository with the following commands.<br>
<strong>Important</strong>: Make sure to commit everything to your work branch before you execute these commands!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout --orphan gh-pages
git reset .
rm -r *
rm .gitignore
echo <span style="color:#e6db74">&#39;The documentation will be here.&#39;</span> &gt; index.html
git add index.html
git commit -m <span style="color:#e6db74">&#39;Initialize the gh-pages orphan branch&#39;</span>
git push -u origin gh-pages
</code></pre></div><h2 id="release-the-documentation">Release the documentation</h2>
<p>We can create a script to build the documentation and publish it to GitHub Pages. The following steps will be needed:</p>
<ol>
<li>Create a temporary folder and clone our repository into it at the <code>gh-pages</code> branch.</li>
<li>Remove all the files from the folder.</li>
<li>Build the documentation site with <code>docfx</code> into the folder.</li>
<li>Commit and push all the changes to <code>gh-pages</code>.</li>
</ol>
<p>We can do this by creating the following <code>releaseDocs.sh</code> script at the root of our repository.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>set -e

export VSINSTALLDIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;C:\Program Files (x86)\Microsoft Visual Studio\2017\Community&#34;</span>
export VisualStudioVersion<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;15.0&#34;</span>

docfx ./docs/docfx.json

SOURCE_DIR<span style="color:#f92672">=</span>$PWD
TEMP_REPO_DIR<span style="color:#f92672">=</span>$PWD/../my-project-gh-pages

echo <span style="color:#e6db74">&#34;Removing temporary doc directory </span>$TEMP_REPO_DIR<span style="color:#e6db74">&#34;</span>
rm -rf $TEMP_REPO_DIR
mkdir $TEMP_REPO_DIR

echo <span style="color:#e6db74">&#34;Cloning the repo with the gh-pages branch&#34;</span>
git clone https://github.com/myaccount/my-project.git --branch gh-pages $TEMP_REPO_DIR

echo <span style="color:#e6db74">&#34;Clear repo directory&#34;</span>
cd $TEMP_REPO_DIR
git rm -r *

echo <span style="color:#e6db74">&#34;Copy documentation into the repo&#34;</span>
cp -r $SOURCE_DIR/docs/_site/* .

echo <span style="color:#e6db74">&#34;Push the new docs to the remote branch&#34;</span>
git add . -A
git commit -m <span style="color:#e6db74">&#34;Update generated documentation&#34;</span>
git push origin gh-pages
</code></pre></div><p>(Note that when setting up the necessary environment variables, I&rsquo;m using the path to the Community version of Visual Studio, because that&rsquo;s what is installed on the AppVeyor build agents. You might have to adjust this based on your environment.)</p>
<p>By calling <code>releaseDocs.sh</code> we can update and publish our documentation in a single step.</p>
<h1 id="automatically-publish-the-docs-with-appveyor">Automatically publish the docs with AppVeyor</h1>
<p>We can include the release script in our CI-pipeline, so that the documentation gets automatically updated on every build.<br>
In this example I&rsquo;ll show how to do this with AppVeyor, but you can use the same approach with other CI-systems too.</p>
<p>In order to set up an AppVeyor build, we have to add an <code>appveyor.yml</code> file to the root of our repository, in which we&rsquo;ll describe the steps needed to build our project (and in our case publish the documentation).</p>
<p>The only slightly tricky part is giving AppVeyor permission to push changes to our repository.<br>
The recommended way to do this is to create a Personal Access Token on GitHub. We can follow <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">this guide</a>, and the only permission we&rsquo;ll need is <code>public_repo</code>. (Make sure to copy the access token to the clipboard after creating it.)</p>
<p>We should handle the access token as a password, so we should encrypt it before adding it to the AppVeyor config. We can do this on the AppVeyor site by clicking on our profile image, and in the menu selecting the &ldquo;Encrypt data&rdquo; option. Now we should add this to our yaml file as an environment variable:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">environment</span>:
  <span style="color:#f92672">github_access_token</span>:
    <span style="color:#f92672">secure</span>: <span style="color:#ae81ff">ceFfu552HHIV</span>
</code></pre></div><p>We&rsquo;ll also need the email address we use as our GitHub account, and since it&rsquo;s better not to have it in plain text in our repository, encrypt this too and add it as an environment variable called <code>github_email</code>.</p>
<p>Then we need to execute a couple of commands to actually use the access token with <code>git</code>, and set up our email and user name for pushing (following <a href="https://www.appveyor.com/docs/how-to/git-push/">this guide</a>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#ae81ff">git config --global credential.helper store</span>
- <span style="color:#f92672">ps</span>: <span style="color:#ae81ff">Add-Content &#34;$env:USERPROFILE\.git-credentials&#34; &#34;https://$($env:github_access_token):x-oauth-basic@github.com`n&#34;</span>
- <span style="color:#ae81ff">git config --global user.email %github_email%</span>
- <span style="color:#ae81ff">git config --global user.name &#34;markvincze&#34;</span>
</code></pre></div><p>The last thing to do in our deploy setup is to execute our <code>releaseDocs.sh</code> script.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#ae81ff">bash releaseDocs.sh</span>
</code></pre></div><p>The full <code>appveyor.yml</code> (also building the solution and running the unit tests) should look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">skip_tags</span>: <span style="color:#66d9ef">true</span>

<span style="color:#f92672">image</span>: <span style="color:#ae81ff">Visual Studio 2017</span>

<span style="color:#f92672">clone_depth</span>: <span style="color:#ae81ff">1</span>

<span style="color:#f92672">branches</span>:
  <span style="color:#f92672">only</span>:
    - <span style="color:#ae81ff">master</span>

<span style="color:#f92672">environment</span>:
  <span style="color:#f92672">github_access_token</span>:
    <span style="color:#f92672">secure</span>: <span style="color:#ae81ff">ceFfu552HHkV</span>
  <span style="color:#f92672">github_email</span>:
    <span style="color:#f92672">secure</span>: <span style="color:#ae81ff">salKyeDwuc37</span>

<span style="color:#f92672">install</span>:
  - <span style="color:#ae81ff">cinst docfx</span>

<span style="color:#f92672">build_script</span>:
- <span style="color:#ae81ff">dotnet restore</span>
- <span style="color:#ae81ff">dotnet build --configuration Release</span>

<span style="color:#f92672">test_script</span>:
- <span style="color:#ae81ff">dotnet test test/MyProject.UnitTests/MyProject.UnitTests.csproj --configuration Release</span>

<span style="color:#f92672">deploy_script</span>:
- <span style="color:#ae81ff">git config --global credential.helper store</span>
- <span style="color:#f92672">ps</span>: <span style="color:#ae81ff">Add-Content &#34;$env:USERPROFILE\.git-credentials&#34; &#34;https://$($env:github_access_token):x-oauth-basic@github.com`n&#34;</span>
- <span style="color:#ae81ff">git config --global user.email %github_email%</span>
- <span style="color:#ae81ff">git config --global user.name &#34;myusername&#34;</span>
- <span style="color:#ae81ff">bash releaseDocs.sh</span>
</code></pre></div><p>With this configuration in place, if we add our repository in AppVeyor, it will build our solution and publish the documentation on every new commit in the <code>master</code> branch.</p>
<h1 id="summary">Summary</h1>
<p>Following this guide we can easily set up automatically generated documentation and API reference for our open-source .NET Core libraries. (However, this post only shows the basic capabilities of DocFx, it has plenty more features that are not in the scope of this guide.)</p>
<p>You can find the source code of the full sample repository on <a href="https://github.com/markvincze/dotnetcore-docfx-demo/">GitHub</a>, and take a look at the published documentation <a href="https://markvincze.github.io/dotnetcore-docfx-demo/">here</a>.</p>

    </article>

    
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'https:\/\/blog.markvincze.com\/build-and-publish-documentation-and-api-reference-with-docfx-for-net-core-projects\/';
        
        this.page.identifier = 'ghost-5a0e206819ac3b1e3f6dd28e';
        
      };
      (function () { 
        var d = document, s = d.createElement('script');
        s.src = 'https://markvinczeblog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  

</section>



  <div style="flex: 1"></div>

  <footer class="footer py-6">
    <div class="content has-text-centered">
      <p>
        Â© 2020 <strong>Mark Vincze</strong>. All rights reserved.<br />
        Built with <a href="https://gohugo.io/">Hugo</a> and <a href="https://bulma.io/">Bulma</a>. ðŸ’™
      </p>
    </div>
  </footer>

</body>

</html>